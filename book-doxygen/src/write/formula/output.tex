%
% حق نشر 1390-1402 دانش پژوهان ققنوس
% حقوق این اثر محفوظ است.
% 
% استفاده مجدد از متن و یا نتایج این اثر در هر شکل غیر قانونی است مگر اینکه متن حق
% نشر بالا در ابتدای تمامی مستندهای و یا برنامه‌های به دست آمده از این اثر
% بازنویسی شود. این کار باید برای تمامی مستندها، متنهای تبلیغاتی برنامه‌های
% کاربردی و سایر مواردی که از این اثر به دست می‌آید مندرج شده و در قسمت تقدیر از
% صاحب این اثر نام برده شود.
% 
% نام گروه دانش پژوهان ققنوس ممکن است در محصولات دست آمده شده از این اثر درج
% نشود که در این حالت با مطالبی که در بالا اورده شده در تضاد نیست. برای اطلاع
% بیشتر در مورد حق نشر آدرس زیر مراجعه کنید:
% 
% http://dpq.co.ir/licence
%
% MINDSTORME : مصطفی ۱۳۹۰-۱۲ : بررسی قالب‌های خروجی بررسی قالب‌های خروجی در
% فرمول نویسی به صورت بخش‌های جداگانه می‌تواند مفید باشد.
% البته می‌توان این کار را در قسمتی جداگانه نیز انجام داد - برای هر قالب یک فصل
% NOTE: هادی ۵-۱۳۹۱: بررسی قالب خروجی (جواب) توضیحات مربوط به قالب های خروجی
% مختلف برای فرمول نویسی اونقدر نیست که بشه در یک فصل نوشت. بنابراین فعلا قرار
% دادن تمام اونها در یک بخش از فصل فرمول‌نویسی منطقی تر به نظر می رسه.

\section{قالب‌های خروجی}
اینکه \lr{Doxygen} فرمول‌های نوشته شده در یک پروژه یا پرونده را چگونه در مستندات
نهایی تولید شده قرار می‌دهد به قالب مستند نهایی بستگی دارد (به اینکه شما بخواهید
مستند نهایی را در قالب \lr{\LaTeX}، ابرمتن (یا \lr{HTML})، \lr{RTF} و یا قالبی
دیگر تولید کنید).

قالب های زیر بطور مستقیم توسط \lr{Doxygen} پشتیبانی می شوند. یعنی اینکه اگر قالب
خروجی مورد نظر برای مستند نهایی یکی از موارد زیر باشد می‌توان از فرمول‌نویسی به
سبک \lr{\LaTeX} در مستندات منبع استفاده کرد و در نهایت با ابزار \lr{Doxygen}
مستند نهایی را تولید کرد. این قالب‌ها عبارتند از:

\begin{itemize}
	\item \lr{HTML}
	\item \lr{Latex}
\end{itemize}

برای تولید مستندات در قالب ابرمتن باید در پرونده پیکربندی تگ \lr{GENERATE\_HTML}
فعال شود (با مقدار \lr{YES} مقداردهی شود) و برای تولید مستندات در قالب
\lr{\LaTeX} باید تگ \lr{GENERATE\_LATEX} فعال شود.

در فرآیند تولید مستند فنی، زمانی که قالب خروجی به صورت \lr{\LaTeX} تنظیم
شده باشد، تنها کافی است که فرمول‌های نوشته شده در مستندات منبع با تغییراتی
جزیی در مستندات نهایی خروجی رونوشت شود و این دقیقا همان کاری است که
\lr{Doxygen} برای تولید مستندات در این قالب انجام می‌دهد. اما اگر بخواهیم مستند
تولید شده نهایی در قالبی غیر از قالب  \lr{\LaTeX} باشد در این صورت لازم است
روابط و فرمول‌های نوشته شده در مستندات منبع به طریقی ترجمه شوند که برای قالب
مستند نهایی تولید شده قابل تشخیص و نمایش باشد (به عنوان مثال فرمول‌ها به عکس
تبدیل شوند).

\begin{note}
در حال حاضر برای تولید مستندات نهایی در قالب‌های \lr{RTF} و یا \lr{man page}
امکان ترجمه رابطه‌ها و فرمول وجود ندارد که به نوبه خود یک محدودیت اساسی در این ابزار به شمار می‌آید.
\end{note}

یکی از پرکاربردترین قالب‌های خروجی قالب ابرمتن یا \lr{HTML} است. خوشبختانه
امکان تبدیل فرمول‌های نوشته شده در مستندات منبع به گونه‌ای که در قالب ابرمتن
قابل تشخیص و نمایش باشد وجود دارد. برای اینکه \lr{Doxygen} بتواند فرمول‌ها را به
صورت تصویر در مستند نهایی ابرمتنی قرار دهد نیاز به چند ابزار جانبی دارد تا با
استفاده از آن‌ها رابطه‌ها و فرمول‌های موجود در مستندات منبع را به تصویر تبدیل
کند و سپس آن‌ها را در مستندات نهایی قرار دهد. ابزارهای جانبی‌ای که باید روی
سیستم نصب شده باشد عبارتند از:

\begin{description}
 \item [\lr{latex}]:
	مترجم دستورات \lr{\LaTeX} که برای تجزیه و ترجمه روابط و فرمول‌ها مورد نیاز است. 
 \item [\lr{dvips}]:
 	ابزاری برای تبدیل پرونده‌های از نوع \lr{DVI} به نوع \lr{Post Script}.
  \item [\lr{gs}]:
  مفسر \lr{Ghost Script} مفسری است که با استفاده از آن می‌توان پرونده‌هایی از
  نوع \lr{Post Script} را به عکس‌هایی در قالب \lr{bitmap} تبدیل کرد.
\end{description}

% بسته نرم‌افزاری \lr{JaTex} یک مترجم است که در ترجمه رابطه‌های ریاضی مورد استفاده
% قرار می‌گیرد.
% بسته \lr{dvips} نیز برای تبدیل پرونده‌های \lr{DVI}به \lr{Post Script} مورد
% استفاده قرار می‌گیرد.
روابط و فرمول‌های نوشته شده در مستند منبع با استفاده از مترجم \lr{\LaTeX} به
پرونده‌هایی از نوع \lr{DVI} تبدیل می‌شوند. سپس این پرونده‌ها با استفاده از
\lr{dvips} به پرونده‌هایی در قالب \lr{Post Script} تبدیل می‌شوند و این پرونده‌ها
در نهایت با استفاده از مفسر \lr{gs} به تصاویری از نوع \lr{bitmap} تبدیل
می‌شوند که حاوی فرمول مورد نظر هستند.

%  پرونده‌های \lr{DVI} با استفاده از مترجم \lr{LaTex}
% از رابطه‌های ریاضی نوشته شده در مستند ایجاد می‌شود. در نهایت با استفاده بسته \lr{Gost Script} تصاویر قابل
% نمایش در خروجی ایجاد خواهد شد.
% ذکر این نکته لازم است که، برای استفاده از این قالب خروجی نصب بودن مترجم
% \lr{LaTex} الزامی است.

برای مستندات در قالب ابرمتن یک روش دیگر هم وجود دارد که در این روش فرمول‌ها
و روابط ریاضی موجود در مستندات منبع به عکس تبدیل نمی‌شوند بلکه خود فرمول‌ها
در مستند نهایی قرار می‌گیرند. با این روش دیگر نیازی به ابزارهای فوق نیست (چون
ابزارهای فوق برای تبدیل فرمول‌ها به عکس مورد نیازند). در این روش از \lr{MathJax}
استفاده می‌شود. برای استفاده از این روش باید در پرونده پیکربندی \lr{Doxygen} تگ
\lr{USE\_MATHJAX} را فعال کنید (این تگ را \lr{YES} مقداردهی کنید). با این کار
فرمول‌های نوشته شده به سبک \lr{\LaTeX} در مستند منبع، به همان صورت در مستند
تولید شده نهایی (در قالب ابرمتن) نوشته می‌شوند. در هنگام نمایش این مستندات نهایی
(که طبعا با استفاده از یک مرورگر نمایش می‌یابد) برنامه \lr{MathJax} که
یک برنامه جاوا-اسکریپت است فرمول‌های موجود را به تصویر تبدیل کرده و
نمایش می‌دهد. بنابراین برای تولید مستندات ابرمتن به این روش نیازی به نصب ابزار خاصی
نیست و کاربری که می‌خواهد مستندات را مشاهده کند باید روی سیستم خود ابزار
\lr{MathJax} را نصب کرده باشد تا مرورگر بتواند با استفاده از آن فرمول‌های موجود
در مستندات را نمایش دهد. نکته اینکه ابزار \lr{MathJax} نرم‌افزاری متن‌باز و
رایگان است\footnote{تارنمای رسمی این نرم‌افزار \lr{http://www.mathjax.com}
است.}.
