%
% حق نشر 1390-1402 دانش پژوهان ققنوس
% حقوق این اثر محفوظ است.
% 
% استفاده مجدد از متن و یا نتایج این اثر در هر شکل غیر قانونی است مگر اینکه متن حق
% نشر بالا در ابتدای تمامی مستندهای و یا برنامه‌های به دست آمده از این اثر
% بازنویسی شود. این کار باید برای تمامی مستندها، متنهای تبلیغاتی برنامه‌های
% کاربردی و سایر مواردی که از این اثر به دست می‌آید مندرج شده و در قسمت تقدیر از
% صاحب این اثر نام برده شود.
% 
% نام گروه دانش پژوهان ققنوس ممکن است در محصولات دست آمده شده از این اثر درج
% نشود که در این حالت با مطالبی که در بالا اورده شده در تضاد نیست. برای اطلاع
% بیشتر در مورد حق نشر آدرس زیر مراجعه کنید:
% 
% http://dpq.co.ir/licence
%
\section{پیکره بندی}
در این قسمت به بررسی پرونده پیکر بندی مورد نیاز برای ایجاد مستن خواهیم پرداخت
در این پرونده علاوه بر این که تنظیمات اولیه مورد نیاز برای ایجاد مستند وجود
دارد چگونگی ایجاد مستند نیز به صورت کامل تشریح می‌شود. همواره فرض می‌شود که هر
پروژه یا قطعه در یک پروژه به صورت کامل در یک پوشه هم نام با آن قرار دارد. تمام
قطعه‌ها و پروژه‌هایی که با هم دیگر یک پروژه کلی را ایجاد می‌کنند نیز کنار یک
دیگر و در یک پوشه قرار می‌گیرند.

مستند تکنیکی ایجاد شده از سیستم نیز خود یک زیر پروژه از پروژه کلی در نظر گرفته
می‌شود از این رو باید یک پوشه، در پوشه پروژه اصلی در نظر گرفت. این پوشه را
همواره با نام \lr{doc} در نظر می‌گیریم. مستند تکنیکی هر زیر پروژه باید به صورت
یک پرونده هم نام با همان زیر پروژه در پوشه \lr{doc} ایجاد شود. برای نمونه فرض
کنید که در پروژه اصلی سه زیر پروژه به نام‌های \lr{GUI}، \lr{Shell} و \lr{LIB}
وجود دارد. در این صورت در این پروژه یک پوشه دیگر به نام \lr{doc} باید ایجاد
و معادل با هر زیر پروژه در آن یک پوشه ایجاد شود. در شکل
\ref{wher-what-config-example-1} ساختار مورد نیاز برای این پروژه نمایش داده
شده است.

در گام بعد در هر پروژه یک پرونده پیکره بندی برای مستند فنی به نام \lr{Doxygen}
ایجاد می‌شود که داده‌های مورد نیاز برای ایجاد مستند در آن قرار خواهد گرفت. در
شکل \ref{wher-what-config-example-1} محل قرار گرفتن پرونده‌های پیکره بندی نشان
داده شده است. از آنجا که محل خروجی مستندهای ایجاد شده بر اساس تنظیم‌های موجود
در همین پرونده‌های تعیین می‌شود باید خصوصیت مسیر خروجی برای هر مستند را به
گونه‌ای اصلاح کرد که مستندهای ایجاد شده در مسیر مناسب قرار گیرد. برای نمون در
پرونده پیکربندی پروژه \lr{GUI} مسیر خروجی به صورت زیر اصلاح می‌شود:

\begin{latin}
\lstset{language=bash}  
\begin{lstlisting}[frame=single] 
OUTPUT_DIRECTORY       = ../doc/GUI
INPUT                  = ./
\end{lstlisting}
\end{latin}

همانگونه که در نمونه آورده شده قابل مشاهده است علاوه بر مسیر خروجی باید مسیر
ورودی پروژه را نیز تعیین کرد. از آنجا که برای هر پروژه به صورت جداگانه یک پرونده
پیکره بندی ایجاد می‌شود کافی است که مسیر ورودی را مسیر جاری قرار داد. با این
تنظیم بدون ترس از محل قرار گرفتن مستند‌ها می‌توان به سادگی در پایان پروژه مستند
فنی را بر اساس تمام پروژه‌ها موجود در پروژه اصلی ایجاد کرد. این فرآیند می‌تواند
به صورت خودکار در پروژه‌های بزرگ انجام شود.

مستندگر \lr{Doxygen} تنها مسیر ورودی تعیین شده را برای یافتن پرونده‌های ورودی
جستجو می‌کند، در صورتی که ساختار تشریح شده برای مستندها و برنامه‌ها به صورت
سلسله مراتبی در نظر گرفته شده است. در این حالت در پرونده پیکره بندی باید جستجوی
بازگشتی برای یافتن پرونده‌ها فعال شود. برای فعال کردن این روش جستجو باید تنظیم
زیر را در پرونده پیکره بندی اضافه کرد:

\begin{latin}
\lstset{language=bash}  
\begin{lstlisting}[frame=single] 
FILE_PATTERNS          = *.h \
                         *.hh \
                         *.hxx \
                         *.hpp \
                         *.h++ \
                         *.dox \
                         *.doxy

RECURSIVE              = YES
\end{lstlisting}
\end{latin}

همانگونه که در کده بالا قابل مشاهده است علاوه بر فعال کردن جستجوی بازگشتی،
می‌بایست ساختارها و پرونده‌هایی که باید به عنوان ورودی قرار گیرد را تعیین کرد.
گرچه که پرونده‌های ورودی وابسته بر اساس نوع پروژه و زبان‌های برنامه سازی به کار
گرفته شده در آن تعیین می‌شود، اما در هر حال پرونده‌های با پسونده \lr{*.doxy}
باید همواره به عنوان ورودی مورد استفاده قرار گیرد.

علاوه بر تمام خصوصیت‌هایی که در این بخش مورد بررسی قرار گرفت خصوصیت‌های دیگری
نیز وجود دارد که باید در یک پرونده پیکرده بندی تعیین شوند. در کد زیر  برخی از
مهم‌ترین تنظیم‌های مورد نیاز برای یک پروزه آورده شده است:

\begin{latin}
\lstset{language=bash}  
\begin{lstlisting}[frame=single] 
DOXYFILE_ENCODING      = UTF-8
PROJECT_NAME           = My Project GUI
PROJECT_NUMBER         = 0.1.0 beta
PROJECT_BRIEF          = MGUI
PROJECT_LOGO           = ./images/logo.png
\end{lstlisting}
\end{latin}

در نهایت با ایجاد تنظیم‌های مورد نیاز برای تمام پروژه‌ها می‌توان به سادگی مستند
فنی مورد نیاز برای پروژه را ایجاد و در موقع نیاز از آنها استفاده کرد.
